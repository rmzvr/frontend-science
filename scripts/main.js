const carouselTrack=document.querySelector(".carousel-track"),carouselSlides=document.querySelectorAll(".carousel-track__slide");let size=carouselSlides[0].clientWidth;const checkbox=document.querySelector(".checkbox"),buttons=document.querySelectorAll(".carousel__button"),prevButton=buttons[0],nextButton=buttons[1],form=document.forms.form,inputs=document.querySelectorAll(".feedback__form input"),burgermenu=document.querySelector(".burgermenu"),burgermenuToggle=document.querySelector(".burgermenu-toggle");let intervalID,counter=1;form.reset(),counter++,carouselTrack.style.transform="translateX("+-size*counter+"px",burgermenuToggle.addEventListener("click",()=>{burgermenu.hidden=!burgermenu.hidden}),intervalID=setInterval(()=>{nextSlide()},5e3),prevButton.addEventListener("click",()=>{prevSlide()}),nextButton.addEventListener("click",()=>{nextSlide()}),carouselTrack.addEventListener("transitionend",()=>{"last"===carouselSlides[counter].dataset.clone&&(size=carouselSlides[0].clientWidth,carouselTrack.style.transition="none",counter=carouselSlides.length-2,carouselTrack.style.transform="translateX("+-size*counter+"px"),"first"===carouselSlides[counter].dataset.clone&&(size=carouselSlides[0].clientWidth,carouselTrack.style.transition="none",counter=carouselSlides.length-counter,carouselTrack.style.transform="translateX("+-size*counter+"px")}),checkbox.addEventListener("mousedown",()=>{if("false"===checkbox.dataset.checked)return checkbox.dataset.checked="true",void clearInterval(intervalID);intervalID=setInterval(()=>{nextSlide()},5e3),checkbox.dataset.checked="false"}),form.addEventListener("submit",e=>{e.preventDefault();for(const t of inputs)if(""==t.value)return void validateInputs(t);form.children[4].innerText="Отправлено!"});for(const c of inputs)c.addEventListener("blur",()=>{validateInputs(c)});function validateInputs(n){const e=new Set([{name:"name",regExp:/^[a-zA-Z]{1,20}$/,errMessage:"Invalid name."},{name:"phone",regExp:/^(?:\+38)?(?:\(0[0-9][0-9]\)[ .-]?[0-9]{3}[ .-]?[0-9]{2}[ .-]?[0-9]{2}|0[0-9][0-9][ .-]?[0-9]{3}[ .-]?[0-9]{2}[ .-]?[0-9]{2}|0[0-9][0-9][0-9]{7})$/gm,errMessage:"Invalid phone."},{name:"email",regExp:/^[\w\.-]{1,}@[a-zA-Z]{0,}\.[a-zA-Z]{2,4}$/,errMessage:"Invalid email."}]);e.forEach(e=>{if(e.name===n.name)if(e.regExp.test(n.value)&&""!==!n.value)n.nextElementSibling&&n.nextElementSibling.remove();else{n.nextElementSibling&&n.nextElementSibling.remove();const t=document.createElement("span");t.className="error",t.innerHTML=e.errMessage,n.parentNode.append(t)}})}function prevSlide(){counter<=0||(size=carouselSlides[0].clientWidth,carouselTrack.style.transition="transform 0.4s ease-in-out",counter--,carouselTrack.style.transform="translateX("+-size*counter+"px")}function nextSlide(){counter>=carouselSlides.length-1||(size=carouselSlides[0].clientWidth,carouselTrack.style.transition="transform 0.4s ease-in-out",counter++,carouselTrack.style.transform="translateX("+-size*counter+"px")}const introduction=document.querySelector(".introduction"),infographics=document.querySelector(".infographics"),infographicsItems=document.querySelectorAll(".infographics__item");window.addEventListener("scroll",e=>{window.scrollY+introduction.getBoundingClientRect().top<=window.scrollY&&(document.querySelector(".blockquote").style.right="0");var t=window.scrollY-infographics.getBoundingClientRect().top+infographics.getBoundingClientRect().height;if(t>=window.scrollY)for(const n of infographicsItems)infographicsItems[0]===n||infographicsItems[2]===n?n.style.top=0:n.style.bottom=0});